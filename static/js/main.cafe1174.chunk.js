(this["webpackJsonpitrex-test"]=this["webpackJsonpitrex-test"]||[]).push([[0],[,,,,function(e,t,s){e.exports={MainTable:"MainTable_MainTable__35-bd",MainTableActive:"MainTable_MainTableActive__2gB4t",userId:"MainTable_userId__3d3Uo",sort:"MainTable_sort__Q8ZD_"}},function(e,t,s){e.exports={Paginator:"Paginator_Paginator__2a1vi",PaginatorActive:"Paginator_PaginatorActive__3EyvI",prevBtn:"Paginator_prevBtn__2Nz9h",nextBtn:"Paginator_nextBtn__1v2J4"}},function(e,t,s){e.exports={SearchContainer:"SearchBlock_SearchContainer__fa6KC",NameSearch:"SearchBlock_NameSearch__2MwFv",StateFilter:"SearchBlock_StateFilter__2wsB-"}},,,,,,,,,function(e,t,s){},,function(e,t,s){},,function(e,t,s){"use strict";s.r(t);var r=s(2),n=s.n(r),a=s(10),c=s.n(a),i=(s(15),s(3)),o=s.n(i),u=s(1),l=s(8),d=s(9),f=(s(17),s(0)),j=function(e){return Object(f.jsx)("header",{className:"App-header",children:Object(f.jsx)("p",{children:"IT Rex test"})})},h=s(6),b=s.n(h),p=function(e){return Object(f.jsxs)("div",{className:b.a.SearchContainer,children:[Object(f.jsx)("input",{className:b.a.NameSearch,placeholder:"Search by Name:",onChange:function(t){e.search(t.target.value,"byString")}}),Object(f.jsx)("div",{children:Object(f.jsxs)("select",{className:b.a.StateFilter,name:"State",size:"1",onChange:function(t){e.search(t.target.value,"byState")},children:[Object(f.jsx)("option",{value:"SelectNone",children:"Select State"}),e.statesList.map((function(e){return Object(f.jsx)("option",{value:e.stateName,children:e.stateName},e.id)}))]})})]})},O=s(4),g=s.n(O),x=function(e){return Object(f.jsx)("div",{onClick:function(t){e.showProfile(t.target.parentElement.id)},children:Object(f.jsxs)("div",{id:e.uniqueId,className:g.a.MainTable,children:[Object(f.jsx)("div",{className:g.a.userId,children:e.id}),Object(f.jsxs)("div",{children:[e.uniqueId," - ",e.firstName]}),Object(f.jsx)("div",{children:e.lastName}),Object(f.jsx)("div",{children:e.email}),Object(f.jsx)("div",{children:e.phone}),Object(f.jsx)("div",{children:e.state})]})})},m=function(e){var t=e.users.map((function(t,s){return Object(f.jsx)(x,{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,state:t.adress.state,pos:t.index,showProfile:e.showProfile,uniqueId:t.uniqueId},s)})),s=function(t){return e.state.sortBy!==t?Object(f.jsx)("span",{children:"-"}):e.state.sortASC?Object(f.jsx)("span",{children:"\u2193"}):Object(f.jsx)("span",{children:"\u2191"})};return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:g.a.MainTable,children:[Object(f.jsx)("div",{className:g.a.userId,onClick:function(t){e.sortTableBy("id")},children:Object(f.jsxs)("p",{children:["id ",s("id")]})}),Object(f.jsx)("div",{onClick:function(t){e.sortTableBy("firstName")},children:Object(f.jsxs)("p",{children:["First name",s("firstName")]})}),Object(f.jsx)("div",{onClick:function(t){e.sortTableBy("lastName")},children:Object(f.jsxs)("p",{children:["Last Name ",s("lastName")]})}),Object(f.jsx)("div",{onClick:function(t){e.sortTableBy("email")},children:Object(f.jsxs)("p",{children:["Email",s("email")]})}),Object(f.jsx)("div",{onClick:function(t){e.sortTableBy("phone")},children:Object(f.jsxs)("p",{children:["Phone",s("phone")]})}),Object(f.jsx)("div",{onClick:function(t){e.sortTableBy("state")},children:Object(f.jsxs)("p",{children:["State",s("state")]})})]}),t]})},v=s(5),P=s.n(v),N=function(e){for(var t=e.totalUsersCount,s=e.pageSize,r=e.currentUsersPage,n=e.selectCurrentPage,a=e.onDecrement,c=e.onIncrement,i=Math.ceil(t/s),o=[],u=1;u<=i;u++)o.push(u);return Object(f.jsxs)("div",{className:P.a.Paginator,children:[Object(f.jsx)("div",{className:P.a.prevBtn,onClick:function(e){a()},children:"Previous"}),o.map((function(e){return Object(f.jsx)("div",{className:r===e&&P.a.PaginatorActive,onClick:function(t){!function(e){n(e)}(e)},children:e},e.dateTime)})),Object(f.jsx)("div",{className:P.a.nextBtn,onClick:function(e){c()},children:"Next"})]})},S=function(e){return Object(f.jsxs)("div",{className:"ProfileInfo",children:[Object(f.jsx)("p",{children:"Profile info"}),Object(f.jsxs)("p",{children:["Selected profile: ",Object(f.jsxs)("span",{children:[e.profileInfo.firstName," ",e.profileInfo.lastName]})]}),Object(f.jsxs)("p",{children:["Description: ",Object(f.jsx)("span",{children:e.profileInfo.description})]}),Object(f.jsxs)("p",{children:["Address: ",Object(f.jsx)("span",{children:e.profileInfo.adress.streetAddress})]}),Object(f.jsxs)("p",{children:["City: ",Object(f.jsx)("span",{children:e.profileInfo.adress.city})]}),Object(f.jsxs)("p",{children:["State: ",Object(f.jsx)("span",{children:e.profileInfo.adress.state})]}),Object(f.jsxs)("p",{children:["Index: ",Object(f.jsx)("span",{children:e.profileInfo.adress.zip})]})]})},U={profileInfo:{id:"-",firstName:"Nothing to Show",lastName:"-",email:"-",phone:"-",adress:{streetAddress:"-",city:"-",state:"-",zip:"-"},description:"-",uniqueId:"0"},findUsers:[],users:[{id:1,firstName:"Nothing to Show",lastName:"-",email:"-",phone:"-",adress:{streetAddress:"-",city:"-",state:"-",zip:"-"},description:"-",uniqueId:"0"}],statesList:[{id:1,stateName:"WI"},{id:2,stateName:"TN"},{id:3,stateName:"FL"},{id:4,stateName:"WI"},{id:5,stateName:"NE"},{id:6,stateName:"NY"}],counter:1,usersPerPage:20,lastPage:1,currentUsersPage:1,currentSearch:"",sortBy:"",sortASC:!0,searchString:"",searchState:"SelectNone"},I=function(e,t){return e%t===0?e/t:Math.floor(e/t)+1},_=function(e,t,s,r){if("SelectNone"!==r&&(t=t.filter((function(e){return e.adress.state===r}))),t.length<=s)return t;var n=[];if(e!==I(t.length,s)){for(var a=(e-1)*s;a<e*s;a++)n.push(t[a]);return n}for(var c=(e-1)*s;c<t.length;c++)n.push(t[c]);return n},C=function(e){return function(t,s){return t[e]>s[e]?1:-1}},y=[];var B=function(){var e=Object(r.useState)(y),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(r.useState)(U),c=Object(d.a)(a,2),i=c[0],h=c[1],b=function(e){return _(e,i.findUsers,i.usersPerPage,i.searchState)};Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n(t),s=I(t.length,i.usersPerPage),r=_(i.currentUsersPage,t,i.usersPerPage,i.searchState),h(Object(u.a)(Object(u.a)({},i),{},{users:i.users=r,findUsers:i.findUsers=t,lastPage:i.lastPage=s}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 2:return t=e.sent,e.next=5,t.json();case 5:for(s=e.sent,r=0;r<s.length;r++)s[r].uniqueId=r;return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=[],s=[],r=0;return e.forEach((function(e){t.includes(e.adress.state)||(t.push(e.adress.state),s.push({id:r,stateName:e.adress.state}),r+=1)})),s}(i.findUsers),x=function(e){i.sortBy!==e||i.sortASC?i.findUsers.sort(C(e)):i.findUsers.sort(function(e){return function(t,s){return t[e]>s[e]?-1:1}}(e)),h(Object(u.a)(Object(u.a)({},i),{},{users:i.findUsers=b(i.currentUsersPage),sortASC:!i.sortASC,sortBy:i.sortBy=e}))},v=function(e){var t=function(e){var t=[],s=[];for(t=Object.values(e).filter((function(e){return"object"!==typeof e})),s=Object.values(e).filter((function(e){return"object"===typeof e}));Object.values(s).some((function(e){return"object"===typeof e}));)s.forEach((function(e){Object.values(e).forEach((function(e){"object"===typeof e?s.push(e):t.push(e)})),s.splice(0,1)}));return t};if(""!==e){for(var r=[],n=0;n<s.length;n++){var a=Object(u.a)({},s[n]);delete a.uniqueId,t(a).some((function(t){return t.toString().toLowerCase().includes(e.toLowerCase())}))&&""===i.searchString&&r.push(s[n])}var c=I(r.length,i.usersPerPage);h(Object(u.a)(Object(u.a)({},i),{},{findUsers:i.findUsers=r,users:i.users=b(i.currentUsersPage),lastPage:i.lastPage=c}))}else{var o=I(i.findUsers.length,i.usersPerPage);h(Object(u.a)(Object(u.a)({},i),{},{findUsers:i.findUsers=s,lastPage:i.lastPage=o}))}},P=function(e){var t=I(i.findUsers.length,i.usersPerPage);if("SelectNone"===e)h(Object(u.a)(Object(u.a)({},i),{},{users:i.users=_(i.currentUsersPage,i.findUsers,i.usersPerPage,e),searchState:i.searchState="SelectNone",lastPage:i.lastPage=t}));else{var s=[];i.findUsers.forEach((function(t){t.adress.state===e&&s.push(t)})),t=I(s.length,i.usersPerPage),h(Object(u.a)(Object(u.a)({},i),{},{users:i.users=s,searchState:i.searchState=e,lastPage:i.lastPage=t}))}};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(j,{}),Object(f.jsxs)("div",{className:"MainContent",children:[Object(f.jsx)(p,{statesList:g,filterByState:P,searchBy:v,search:function(e,t){"byString"===t&&v(e),"byState"===t&&P(e)}}),Object(f.jsx)(m,{users:i.users,sortTableBy:function(e){switch(e){case"id":x("id");break;case"firstName":x("firstName");break;case"lastName":x("lastName");break;case"phone":x("phone");break;case"email":x("email");break;case"state":x("state");break;default:return 1}},state:i,showProfile:function(e){var t;t=i.users.find((function(t){return t.uniqueId.toString()===e})),h(Object(u.a)(Object(u.a)({},i),{},{profileInfo:i.profileInfo=t}))}}),Object(f.jsx)(N,{totalUsersCount:i.findUsers.length,pageSize:i.usersPerPage,currentUsersPage:i.currentUsersPage,selectCurrentPage:function(e){h(Object(u.a)(Object(u.a)({},i),{},{currentUsersPage:e,users:i.users=b(e)}))},onDecrement:function(){1!==i.currentUsersPage&&h(Object(u.a)(Object(u.a)({},i),{},{currentUsersPage:i.currentUsersPage-1,users:i.users=b(i.currentUsersPage-1)}))},onIncrement:function(){i.currentUsersPage!==i.lastPage&&h(Object(u.a)(Object(u.a)({},i),{},{currentUsersPage:i.currentUsersPage+1,users:i.users=b(i.currentUsersPage+1)}))}}),Object(f.jsx)(S,{profileInfo:i.profileInfo})]})]})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),r(e),n(e),a(e),c(e)}))};c.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(B,{state:U})}),document.getElementById("root")),k()}],[[19,1,2]]]);
//# sourceMappingURL=main.cafe1174.chunk.js.map