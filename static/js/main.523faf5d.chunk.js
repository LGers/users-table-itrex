(this["webpackJsonpitrex-test"]=this["webpackJsonpitrex-test"]||[]).push([[0],[,,,,function(e,t,s){e.exports={MainTable:"MainTable_MainTable__35-bd",MainTableActive:"MainTable_MainTableActive__2gB4t",userId:"MainTable_userId__3d3Uo",sort:"MainTable_sort__Q8ZD_"}},function(e,t,s){e.exports={Paginator:"Paginator_Paginator__2a1vi",PaginatorActive:"Paginator_PaginatorActive__3EyvI",prevBtn:"Paginator_prevBtn__2Nz9h",nextBtn:"Paginator_nextBtn__1v2J4"}},function(e,t,s){e.exports={SearchContainer:"SearchBlock_SearchContainer__fa6KC",NameSearch:"SearchBlock_NameSearch__2MwFv",StateFilter:"SearchBlock_StateFilter__2wsB-"}},,,,,,,,,function(e,t,s){},,function(e,t,s){},,function(e,t,s){"use strict";s.r(t);var n=s(2),r=s.n(n),a=s(10),i=s.n(a),c=(s(15),s(1)),o=s(3),l=s.n(o),u=s(8),d=s(9),j=(s(17),s(0)),f=function(e){return Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("p",{children:"IT Rex test"})})},h=s(6),b=s.n(h),p=function(e){return Object(j.jsxs)("div",{className:b.a.SearchContainer,children:[Object(j.jsx)("input",{className:b.a.NameSearch,placeholder:"Search by Name:",onChange:function(t){e.searchBy(t.target.value,"byString")}}),Object(j.jsx)("div",{children:Object(j.jsxs)("select",{className:b.a.StateFilter,name:"State",size:"1",onChange:function(t){e.filterByState(t.target.value,"byState")},children:[Object(j.jsx)("option",{value:"SelectNone",children:"Select State"}),e.statesList.map((function(e){return Object(j.jsx)("option",{value:e.stateName,children:e.stateName},e.id)}))]})})]})},O=s(4),m=s.n(O),x=function(e){return Object(j.jsx)("div",{onClick:function(t){e.showProfile(t.target.parentElement.id)},children:Object(j.jsxs)("div",{id:e.uniqueId,className:m.a.MainTable,children:[Object(j.jsx)("div",{className:m.a.userId,children:e.id}),Object(j.jsxs)("div",{children:[e.uniqueId," - ",e.firstName]}),Object(j.jsx)("div",{children:e.lastName}),Object(j.jsx)("div",{children:e.email}),Object(j.jsx)("div",{children:e.phone}),Object(j.jsx)("div",{children:e.state})]})})},g=function(e){var t=e.users.map((function(t,s){return Object(j.jsx)(x,{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone,state:t.adress.state,pos:t.index,showProfile:e.showProfile,uniqueId:t.uniqueId},s)})),s=function(t){return e.state.sortBy!==t?Object(j.jsx)("span",{children:"-"}):e.state.sortASC?Object(j.jsx)("span",{children:"\u2193"}):Object(j.jsx)("span",{children:"\u2191"})};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:m.a.MainTable,children:[Object(j.jsx)("div",{className:m.a.userId,onClick:function(t){e.sortTableBy("id")},children:Object(j.jsxs)("p",{children:["id ",s("id")]})}),Object(j.jsx)("div",{onClick:function(t){e.sortTableBy("firstName")},children:Object(j.jsxs)("p",{children:["First name",s("firstName")]})}),Object(j.jsx)("div",{onClick:function(t){e.sortTableBy("lastName")},children:Object(j.jsxs)("p",{children:["Last Name ",s("lastName")]})}),Object(j.jsx)("div",{onClick:function(t){e.sortTableBy("email")},children:Object(j.jsxs)("p",{children:["Email",s("email")]})}),Object(j.jsx)("div",{onClick:function(t){e.sortTableBy("phone")},children:Object(j.jsxs)("p",{children:["Phone",s("phone")]})}),Object(j.jsx)("div",{onClick:function(t){e.sortTableBy("state")},children:Object(j.jsxs)("p",{children:["State",s("state")]})})]}),t]})},v=s(5),N=s.n(v),S=function(e){for(var t=e.totalUsersCount,s=e.pageSize,n=e.currentUsersPage,r=e.selectCurrentPage,a=e.onDecrement,i=e.onIncrement,c=Math.ceil(t/s),o=[],l=1;l<=c;l++)o.push(l);console.log("currentUsersPage",n);return Object(j.jsxs)("div",{className:N.a.Paginator,children:[Object(j.jsx)("div",{className:N.a.prevBtn,onClick:function(e){a()},children:"Previous"}),o.map((function(e){return Object(j.jsx)("div",{className:n===e&&N.a.PaginatorActive,onClick:function(t){!function(e){r(e)}(e)},children:e},e.dateTime)})),Object(j.jsx)("div",{className:N.a.nextBtn,onClick:function(e){i()},children:"Next"})]})},P=function(e){return Object(j.jsxs)("div",{className:"ProfileInfo",children:[Object(j.jsx)("p",{children:"Profile info"}),Object(j.jsxs)("p",{children:["Selected profile: ",Object(j.jsxs)("span",{children:[e.profileInfo.firstName," ",e.profileInfo.lastName]})]}),Object(j.jsxs)("p",{children:["Description: ",Object(j.jsx)("span",{children:e.profileInfo.description})]}),Object(j.jsxs)("p",{children:["Address: ",Object(j.jsx)("span",{children:e.profileInfo.adress.streetAddress})]}),Object(j.jsxs)("p",{children:["City: ",Object(j.jsx)("span",{children:e.profileInfo.adress.city})]}),Object(j.jsxs)("p",{children:["State: ",Object(j.jsx)("span",{children:e.profileInfo.adress.state})]}),Object(j.jsxs)("p",{children:["Index: ",Object(j.jsx)("span",{children:e.profileInfo.adress.zip})]})]})},I={profileInfo:{id:"-",firstName:"Nothing to Show",lastName:"-",email:"-",phone:"-",adress:{streetAddress:"-",city:"-",state:"-",zip:"-"},description:"-",uniqueId:"0"},findUsers:[],users:[{id:1,firstName:"Nothing to Show",lastName:"-",email:"-",phone:"-",adress:{streetAddress:"-",city:"-",state:"-",zip:"-"},description:"-",uniqueId:"0"}],statesList:[{id:1,stateName:"WI"},{id:2,stateName:"TN"},{id:3,stateName:"FL"},{id:4,stateName:"WI"},{id:5,stateName:"NE"},{id:6,stateName:"NY"}],counter:1,usersPerPage:20,lastPage:1,currentUsersPage:1,currentSearch:"",sortBy:"",sortASC:!0,searchString:"",searchState:""},_=function(e,t){return e%t===0?e/t:Math.floor(e/t)+1},C=[];var B=function(){var e=Object(n.useState)(C),t=Object(d.a)(e,2),s=t[0],r=t[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var a=function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 2:return t=e.sent,e.next=5,t.json();case 5:for(s=e.sent,n=0;n<s.length;n++)s[n].uniqueId=n;return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();I.users=s,I.findUsers=s,I.lastPage=_(s.length,I.usersPerPage),console.log("initialState",I);var i=Object(n.useState)(I),o=Object(d.a)(i,2),h=o[0],b=o[1],O=function(e,t,s,n){if(t.length<=s)return t;var r=[];if(e!==_(t.length,s)){for(var a=(e-1)*s;a<e*s;a++)r.push(t[a]);return r}for(var i=(e-1)*s;i<t.length;i++)r.push(t[i]);return r}(h.currentUsersPage,h.users,h.usersPerPage),m=function(e){var t=[],s=[],n=0;return e.forEach((function(e){t.includes(e.adress.state)||(t.push(e.adress.state),s.push({id:n,stateName:e.adress.state}),n+=1)})),s}(s),x=function(e){return function(t,s){return t[e]>s[e]?1:-1}},v=function(e){var t=[];h.sortBy!==e?(t=h.users.sort(x(e)),b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=t,sortASC:h.sortASC=!1,sortBy:h.sortBy=e}))):(t=h.sortASC?h.users.sort(x(e)):h.users.sort(function(e){return function(t,s){return t[e]>s[e]?-1:1}}(e)),b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=t,sortASC:!h.sortASC,sortBy:h.sortBy=e})))};return window.state=h,Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{}),Object(j.jsxs)("div",{className:"MainContent",children:[Object(j.jsx)(p,{statesList:m,filterByState:function(e){if("SelectNone"===e)b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=s,searchState:h.searchState="",findUsers:h.findUsers=s}));else{var t=[];s.forEach((function(s){s.adress.state===e&&t.push(s)})),b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=t,searchState:h.searchState=e}))}},searchBy:function(e,t){if(console.log("search string = ",e),""!==e){for(var n=[],r=0;r<s.length;r++){var a=s[r];a.id.toString().includes(e)?n.push(a):(a.firstName.includes(e)||a.lastName.toString().includes(e)||a.email.toString().includes(e)||a.phone.toString().includes(e)||a.adress.streetAddress.toString().includes(e)||a.adress.city.toString().includes(e)||a.adress.state.toString().includes(e)||a.adress.zip.toString().includes(e)||a.description.toString().includes(e))&&n.push(a)}b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=n}))}else b(Object(c.a)(Object(c.a)({},h),{},{users:h.users=s}))}}),Object(j.jsx)(g,{users:O,sortTableBy:function(e){switch(e){case"id":v("id");break;case"firstName":v("firstName");break;case"lastName":v("lastName");break;case"phone":v("phone");break;case"email":v("email");break;case"state":v("state");break;default:return 1}},state:h,showProfile:function(e){console.log(e);var t;t=h.users.find((function(t){return t.uniqueId.toString()===e})),b(Object(c.a)(Object(c.a)({},h),{},{profileInfo:h.profileInfo=t}))}}),Object(j.jsx)(S,{totalUsersCount:h.users.length,pageSize:h.usersPerPage,currentUsersPage:h.currentUsersPage,selectCurrentPage:function(e){b(Object(c.a)(Object(c.a)({},h),{},{currentUsersPage:e}))},onDecrement:function(){1!==h.currentUsersPage&&b(Object(c.a)(Object(c.a)({},h),{},{currentUsersPage:h.currentUsersPage-1}))},onIncrement:function(){h.currentUsersPage!==h.lastPage&&b(Object(c.a)(Object(c.a)({},h),{},{currentUsersPage:h.currentUsersPage+1}))}}),Object(j.jsx)(P,{profileInfo:h.profileInfo})]})]})},y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),r(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(B,{state:I})}),document.getElementById("root")),y()}],[[19,1,2]]]);
//# sourceMappingURL=main.523faf5d.chunk.js.map